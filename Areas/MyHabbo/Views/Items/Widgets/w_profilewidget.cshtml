@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
@model KeplerCMS.Areas.MyHabbo.Models.ItemViewModel;
@{Layout = null;}

<div class="widget-corner" id="widget-@Model.Item.Id-handle">
    <div class="widget-headline">
        <h3>
            @{
                if (Model.EnableEditing)
                {
                    <img src="~/c_images/myhabbo/icon_edit.gif" width="19" height="18" class="edit-button" id="widget-@Model.Item.Id-edit">
                    <script language="JavaScript" type="text/javascript">
                                        Event.observe("widget-@Model.Item.Id-edit", "click", function (e) { openEditMenu(e, @Model.Item.Id, "widget", "widget-@Model.Item.Id-edit"); }, false);
                    </script>
                }
            }


            <span class="header-left">&nbsp;</span><span class="header-middle">MIN PROFIL</span><span class="header-right">&nbsp;</span>
        </h3>
    </div>
</div>
<div class="widget-body">
    <div class="widget-content">
        <div class="profile-info">

            <div class="name" style="float: left">
                <span class="name-text">@Model.WidgetData.User.Username</span>
                <img id="name-4-report" class="report-button report-n" alt="report" src="~/c_images/myhabbo/report_button.gif" style="display: none;">
            </div>

            <br class="clear">


            <img alt="online" src="~/c_images/myhabbo/habbo_offline.gif">

            <div class="birthday text">
                @DbRes.T("profile_birthday", "habbohome")
            </div>
            <div class="birthday date">
                @Model.WidgetData.User.CreateAt.ToString("dd-MM-yyyy")
            </div>
            @{
                if (Model.WidgetData.User.BadgeActive)
                {
                    <div>
                        <img src="@Configuration["badgeUrl"]/@(Model.WidgetData.User.Badge).gif">
                    </div>
                }

            }


        </div>
        <div class="profile-figure">
            <img alt="Wizter" src="@Configuration["figureUrl"]?figure=@Model.WidgetData.User.Figure&amp;size=b&amp;direction=4&amp;head_direction=4&amp;crr=0&amp;gesture=sml&amp;frame=1">
        </div>

        <div class="profile-motto">
            @Model.WidgetData.User.Motto
            <img id="motto-4-report" class="report-button report-n" alt="report" src="~/c_images/myhabbo/report_button.gif" style="display: none;">
            <div class="clear"></div>
        </div>
        @{
            if (User.Identity.IsAuthenticated && User.Identity.Name != Model.WidgetData.User.Id.ToString())
            {
                <div class="profile-friend-request clearfix">
                    <a class="new-button" id="add-friend" style="float: left"><b>@DbRes.T("friend_add", "habbohome")</b><i></i></a>
                </div>
            }
        }

        <div id="profile-tags-panel">
            <div id="profile-tag-list">



            </div>
        </div>
        <script type="text/javascript">
            document.observe("dom:loaded", function () {
                new ProfileWidget('@Model.Item.Id', '@Model.Item.Id', {
                    headerText: "@DbRes.T("friend_header", "habbohome")?",
                    messageText: "@DbRes.T("friend_message", "habbohome").Replace("{username}", Model.WidgetData.User.Username)",
                    loginText: "@DbRes.T("friend_login", "habbohome")",
                    buttonText: "@DbRes.T("ok", "habbohome")",
                    cancelButtonText: "@DbRes.T("cancel", "habbohome")"
                });
            });
        </script>

        <div class="clear"></div>
    </div>
</div>